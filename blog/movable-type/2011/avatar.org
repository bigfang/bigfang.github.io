#+TITLE:       头像哪儿去了
#+DATE:        2011-05-14
#+TAGS:        :扯淡:折腾:MovableType:perl:配置:毫无营养:
#+LANGUAGE:    zh


在安装blog的时候，MovableType就报告没有发现Image::Magick模块，作为一个不关心warning的家伙，也就得过且过了。
后来发现用户头像始终是一个暗淡的小脑袋，上传头像也找不到地方，这实在是让人不爽，终于在昨晚上腾出手来把这问题给解决了。

最直接的方法就是把这个缺掉的模块装上好了，在cpan上折腾了好久都没成功，才注意到Image::Magick是依赖ImageMagick的，
这台主机本身没有安装，只得自己编译了。
编译过程中，一度发现空间占用达到了252M-_-|||，安装清理完了之后依然有50多M，就算再干掉25M文档，还是很大呀，果然处理图像的都是大家伙么。
都这样搞，我这小小的300M空间怎么吃得消。

网上搜了艘，发现可以配置mt-config.cgi文件里的ImageDriver来改变MT使用的图像工具，
ImageMagick只不过是这个配置的缺省值而已，还有NetPBM，GD和Imager（MT5.1）可供选择。
原来根本不用这么复杂，直接改配置就好╯﹏╰，加入一行ImageDriver
GD，头像就可以上传并显示了（当然，主机上得安装了那个GD模块先）。
果然官方文档才是王道。

mt-config.cgi是MT的配置文件，会存放数据库的用户名密码啥的，应该很重要才是，可是网上好多文章说要把权限设成755甚至777，很不解。
我是只给了400，目前也没出什么问题，这种文件还是权限小点比较安心。

忙了一个晚上，终于还是搞好了，挑了一张萌图做头像，blog主页会不会显示头像了呢，满怀憧憬的刷新，咦，没变呀。
是不是没有重新发布的原因呢？publish，刷新，太坑爹了，依然什么变化都没有，掀桌！睡觉去......

这就是那两个小萌物\\
[[/assets/media/img/little-white-two.jpg]]
